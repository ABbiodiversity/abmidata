<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Accessing Public Data from the ABMI • abmidata</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Accessing Public Data from the ABMI">
<meta property="og:description" content="Public data from the Alberta Biodiversity Monitoring Institute.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">abmidata</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/abmidata01-introduction.html">Introduction</a>
    </li>
    <li>
      <a href="articles/abmidata02-metadata.html">Tables and Metadata</a>
    </li>
    <li>
      <a href="articles/abmidata03-commontasks.html">Common Tasks</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/abbiodiversity/abmidata/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="abmidata" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#abmidata" class="anchor"></a>abmidata</h1></div>
<blockquote>
<p>Public data from the Alberta Biodiversity Monitoring Institute</p>
</blockquote>
<p><a href="https://github.com/ABbiodiversity/abmidata/actions"><img src="https://github.com/ABbiodiversity/abmidata/workflows/check/badge.svg" alt="check"></a></p>
<div id="setup" class="section level2">
<h2 class="hasAnchor">
<a href="#setup" class="anchor"></a>Setup</h2>
<p>Install the package:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"ABbiodiversity/abmidata"</span><span class="op">)</span></code></pre></div>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<div id="pulling-monitoring-data" class="section level3">
<h3 class="hasAnchor">
<a href="#pulling-monitoring-data" class="anchor"></a>Pulling monitoring data</h3>
<p>The ABMI public data API pulls information from one of ABMI’s main databases.</p>
<p>Load the R package:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/abbiodiversity/abmidata">abmidata</a></span><span class="op">)</span>
<span class="co">#&gt; abmidata 0.0.1    2021-02-11</span></code></pre></div>
<p>List names of tables available via the API:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">n</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/getmethods.html">ad_get_table_names</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>Description <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;                               Description</span>
<span class="co">#&gt; T01A   T01A Site Physical Characteristics</span>
<span class="co">#&gt; CT01A CT01A Site Physical Characteristics</span>
<span class="co">#&gt; T01B                T01B Site Suitability</span>
<span class="co">#&gt; CT01C               CT01C Site Capability</span>
<span class="co">#&gt; CT01B              CT01B Site Suitability</span>
<span class="co">#&gt; T01C                 T01C Site Capability</span></code></pre></div>
<p>Get a table by its ID, possibly filtered by site ID or by year:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/getmethods.html">ad_get_table</a></span><span class="op">(</span><span class="st">"T01A"</span>, year<span class="op">=</span><span class="fl">2010</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; 'data.frame':    1026 obs. of  14 variables:</span>
<span class="co">#&gt;  $ Rotation              : chr  "Rotation 1" "Rotation 1" "Rotation 1" "Rotation 1" ...</span>
<span class="co">#&gt;  $ ABMI Site             : chr  "149" "149" "149" "149" ...</span>
<span class="co">#&gt;  $ Year                  : int  2010 2010 2010 2010 2010 2010 2010 2010 2010 2010 ...</span>
<span class="co">#&gt;  $ Field Date            : chr  "27-May-10" "27-May-10" "27-May-10" "27-May-10" ...</span>
<span class="co">#&gt;  $ Field Crew Member(s)  : chr  "TGR" "TGR" "TGR" "TGR" ...</span>
<span class="co">#&gt;  $ Nearest Town          : chr  "DNC" "DNC" "DNC" "DNC" ...</span>
<span class="co">#&gt;  $ Public Latitude       : num  58.9 58.9 58.9 58.9 58.9 ...</span>
<span class="co">#&gt;  $ Public Longitude      : num  -112 -112 -112 -112 -112 ...</span>
<span class="co">#&gt;  $ Collection Methodology: int  1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ Point Count Station   : int  1 2 3 4 5 6 7 8 9 1 ...</span>
<span class="co">#&gt;  $ Subpoint              : chr  "P" "P" "P" "P" ...</span>
<span class="co">#&gt;  $ Elevation (metres)    : int  213 213 213 213 213 213 213 213 213 212 ...</span>
<span class="co">#&gt;  $ Slope (degrees)       : chr  "0" "0" "0" "0" ...</span>
<span class="co">#&gt;  $ Aspect (degrees)      : chr  "VNA" "VNA" "VNA" "VNA" ...</span></code></pre></div>
<p>ABMI data has specific placeholders for missing data indicating the <a href="https://abbiodiversity.github.io/abmidata/reference/helpers.html">reason for the missingness</a>. This poses challenges in R when the information is numeric. Here is how you can handle these missing value indicators:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">y</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[[</span><span class="st">"Aspect (degrees)"</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">100</span><span class="op">]</span>
<span class="va">y</span>
<span class="co">#&gt;   [1] "VNA" "VNA" "VNA" "VNA" "VNA" "VNA" "VNA" "VNA" "VNA" "VNA" "VNA" "VNA"</span>
<span class="co">#&gt;  [13] "VNA" "VNA" "VNA" "VNA" "VNA" "VNA" "VNA" "100" "260" "VNA" "VNA" "80" </span>
<span class="co">#&gt;  [25] "VNA" "220" "VNA" "VNA" "VNA" "VNA" "VNA" "VNA" "VNA" "VNA" "VNA" "VNA"</span>
<span class="co">#&gt;  [37] "DNC" "DNC" "DNC" "DNC" "VNA" "DNC" "VNA" "VNA" "DNC" "VNA" "VNA" "VNA"</span>
<span class="co">#&gt;  [49] "VNA" "VNA" "VNA" "VNA" "VNA" "VNA" "VNA" "VNA" "VNA" "VNA" "VNA" "VNA"</span>
<span class="co">#&gt;  [61] "VNA" "VNA" "VNA" "VNA" "VNA" "VNA" "VNA" "VNA" "VNA" "VNA" "VNA" "VNA"</span>
<span class="co">#&gt;  [73] "VNA" "VNA" "VNA" "VNA" "VNA" "VNA" "VNA" "VNA" "VNA" "VNA" "VNA" "VNA"</span>
<span class="co">#&gt;  [85] "VNA" "VNA" "VNA" "VNA" "VNA" "VNA" "VNA" "87"  "VNA" "9"   "VNA" "VNA"</span>
<span class="co">#&gt;  [97] "VNA" "VNA" "VNA" "VNA"</span>
<span class="fu"><a href="reference/helpers.html">ad_convert_na</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span>
<span class="co">#&gt;   [1]  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA</span>
<span class="co">#&gt;  [19]  NA 100 260  NA  NA  80  NA 220  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA</span>
<span class="co">#&gt;  [37]  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA</span>
<span class="co">#&gt;  [55]  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA</span>
<span class="co">#&gt;  [73]  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA</span>
<span class="co">#&gt;  [91]  NA  87  NA   9  NA  NA  NA  NA  NA  NA</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="fu"><a href="reference/helpers.html">ad_process_na</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;       VNA            DNC            PNA         SNI        value       </span>
<span class="co">#&gt;  Min.   :0.00   Min.   :0.00   Min.   :0   Min.   :0   Min.   :  9.00  </span>
<span class="co">#&gt;  1st Qu.:1.00   1st Qu.:0.00   1st Qu.:0   1st Qu.:0   1st Qu.: 81.75  </span>
<span class="co">#&gt;  Median :1.00   Median :0.00   Median :0   Median :0   Median : 93.50  </span>
<span class="co">#&gt;  Mean   :0.88   Mean   :0.06   Mean   :0   Mean   :0   Mean   :126.00  </span>
<span class="co">#&gt;  3rd Qu.:1.00   3rd Qu.:0.00   3rd Qu.:0   3rd Qu.:0   3rd Qu.:190.00  </span>
<span class="co">#&gt;  Max.   :1.00   Max.   :1.00   Max.   :0   Max.   :0   Max.   :260.00  </span>
<span class="co">#&gt;                                                        NA's   :94</span></code></pre></div>
</div>
<div id="processing-data" class="section level3">
<h3 class="hasAnchor">
<a href="#processing-data" class="anchor"></a>Processing data</h3>
<p>Once tables are loaded using the ABMI public data API, the data usually needs to be processed further. The tables are in ‘long format’ which means that e.g. sites and species are all in in their own columns:</p>
<table class="table">
<thead><tr class="header">
<th>Site</th>
<th>Species</th>
<th>Count</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Site 1</td>
<td>A</td>
<td>1</td>
</tr>
<tr class="even">
<td>Site 1</td>
<td>B</td>
<td>2</td>
</tr>
<tr class="odd">
<td>Site 1</td>
<td>C</td>
<td>3</td>
</tr>
<tr class="even">
<td>Site 2</td>
<td>B</td>
<td>1</td>
</tr>
<tr class="odd">
<td>Site 2</td>
<td>D</td>
<td>2</td>
</tr>
<tr class="even">
<td>Site 3</td>
<td>E</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>There are other R packages that can be used to turn the ‘long format’ data into a ‘wide format’ where e.g. sites represent rows and species represent columns:</p>
<table class="table">
<thead><tr class="header">
<th>Site</th>
<th>A</th>
<th>B</th>
<th>C</th>
<th>D</th>
<th>E</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>1</td>
<td>2</td>
<td>3</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td>2</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>2</td>
<td>0</td>
</tr>
<tr class="odd">
<td>3</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>Check out examples of how to do this for vascular plants, mites, mosses, lichens, and birds in <a href="https://abbiodiversity.github.io/abmidata/articles/abmidata03-commontasks.html">this article</a> about common data processing tasks.</p>
</div>
<div id="matching-monitoring-data-with-predictors" class="section level3">
<h3 class="hasAnchor">
<a href="#matching-monitoring-data-with-predictors" class="anchor"></a>Matching monitoring data with predictors</h3>
<p>Once the monitoring data is in the desired format, one can match the site locations (and possibly years) with location/year specific predictor variables. One can use the <strong>field data</strong> about site condition to explain the distribution, abundance, or other measures of species and habitat elements at the ABMI sites.</p>
<p>One can also use <strong>geospatial information</strong> extracted at the site coordinates. This, however, poses some challenges because exact site coordinates are not publicly available. However, restrictions around site confidentiality have been substantially relaxed and coordinates for most sites will soon be available for research purposes upon request. We will provide relevant information here as soon as it is available. In the meantime, please reach out to <a href="https://www.abmi.ca/home/contact-us.html">ABMI</a> for more information.</p>
</div>
</div>
<div id="documentation" class="section level2">
<h2 class="hasAnchor">
<a href="#documentation" class="anchor"></a>Documentation</h2>
<p>See the <a href="https://abbiodiversity.github.io/abmidata">package website</a> for documentation. A list of tables and associated metadata can be found <a href="https://abbiodiversity.github.io/abmidata/articles/abmidata02-metadata.html">here</a>.</p>
<p>See also:</p>
<ul>
<li><a href="https://abmi.ca/home/publications/501-550/549">Terrestrial Field Data Collection Protocols</a></li>
<li><a href="https://abmi.ca/home/publications/501-550/548">Wetland Field Data Collection Protocols</a></li>
<li><a href="https://abmi.ca/home/publications/551-600/565">Terrestrial ABMI Autonomous Recording Unit (ARU) and Remote Camera Trap Protocols</a></li>
</ul>
</div>
<div id="issues" class="section level2">
<h2 class="hasAnchor">
<a href="#issues" class="anchor"></a>Issues</h2>
<p><a href="https://github.com/ABbiodiversity/abmidata/issues" class="uri">https://github.com/ABbiodiversity/abmidata/issues</a></p>
</div>
<div id="citation" class="section level2">
<h2 class="hasAnchor">
<a href="#citation" class="anchor"></a>Citation</h2>
<p>Solymos P, Fang J, ABMI (2021). <em>abmidata: Accessing Public Data from the ABMI</em>. R package version 0.0.1, &lt;URL: <a href="https://github.com/abbiodiversity/abmidata" class="uri">https://github.com/abbiodiversity/abmidata</a>&gt;.</p>
</div>
<div id="license" class="section level2">
<h2 class="hasAnchor">
<a href="#license" class="anchor"></a>License</h2>
<p><a href="LICENSE">MIT</a> © 2020 Peter Solymos, Joan Fang, ABMI</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/abbiodiversity/abmidata/">https://​github.com/​abbiodiversity/​abmidata/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/abbiodiversity/abmidata/issues">https://​github.com/​abbiodiversity/​abmidata/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Peter Solymos <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Peter Solymos.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
